"use client"

import { useEffect, useState } from "react"
import { useFrame } from "@react-three/fiber"

const DebugOverlay = () => {
  const [fps, setFps] = useState(0)

  useEffect(() => {
    let frameCount = 0
    let lastTime = performance.now()

    const calculateFps = () => {
      const now = performance.now()
      frameCount++
      if (now - lastTime >= 1000) {
        setFps(frameCount)
        frameCount = 0
        lastTime = now
      }
      requestAnimationFrame(calculateFps)
    }

    calculateFps()
  }, [])

  // 修改后的地方在这里
  if (process.env.NODE_ENV !== 'development') return null

  return (
    <div className="absolute bottom-0 left-0 bg-black/70 text-white p-2 font-mono text-xs">
      FPS: {fps}
    </div>
  )
}

export default DebugOverlay
